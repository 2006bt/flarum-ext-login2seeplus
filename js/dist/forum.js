module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(e,n){e.exports=flarum.core.compat.app},function(e,n){e.exports=flarum.core.compat.extend},function(e,n){e.exports=flarum.core.compat["components/CommentPost"]},function(e,n){e.exports=flarum.core.compat["components/LogInModal"]},,function(e,n){e.exports=flarum.core.compat["components/HeaderPrimary"]},function(e,n){e.exports=flarum.core.compat["components/SignUpModal"]},,,,function(e,n,t){"use strict";t.r(n);var r=t(1),o=t(0),a=t.n(o),i=t(2),l=t.n(i),s=t(5),c=t.n(s),u=t(3),p=t.n(u),f=t(6),d=t.n(f);a.a.initializers.add("jslirola-login2seeplus",(function(){var e,n,t,o;Object(r.extend)(c.a.prototype,"init",(function(){n=parseInt(a.a.forum.attribute("jslirola.login2seeplus.post")||100),isNaN(n)&&(n=-1),t=a.a.forum.attribute("jslirola.login2seeplus.link")||"replace_all",o=JSON.parse(a.a.forum.attribute("jslirola.login2seeplus.image")||0),e=JSON.parse(a.a.forum.attribute("jslirola.login2seeplus.php")||0)})),Object(r.extend)(l.a.prototype,"content",(function(r){if(!a.a.session.user&&!this.isEditing()&&!e){var i,l,s=r[1].children[0].toString(),c=!1;if(-1!=n&&(i=s,(l=document.createElement("div")).innerHTML=i,(l.textContent||l.innerText||"").length>n)){try{s=function(e,n){var t=document.createElement("div");return t.innerHTML=e,function e(t,r){var o=t.firstChild;t.innerHTML&&n<=0&&(t.innerHTML="");do{3===o.nodeType?r(o):1===o.nodeType&&o.childNodes&&o.childNodes[0]&&e(o,r)}while(o=o.nextSibling)}(t,(function(e){if(n>0){var t=e.data.length;(n-=t)<=0&&e&&e.data&&(e.data=e.substringData(0,e.data.length+n)+"...")}else e&&e.data&&(e.data="")})),t.innerHTML}(s,n)}catch(e){}c=!0}if("no_replace"!=t&&(s=s.replace(/<a href=".*?"/g,"<a")),"replace_all"==t&&(s=s.replace(/(<a[^>]*>)[^<]*<\/a>/g,"$1"+a.a.translator.trans("jslirola-login2seeplus.forum.link")+"</a>")),o){var u=0;s=s.replace(/<img((.(?!class=))*)\/?>/g,(function(e){var n=$(e)[0].src,t=new Image;return t.onload=function(){var e=t.width,n=t.height;e=e>150?e:150,n=n>150?n:150,$(".wlip"+this.counter).width(e),$(".wlip"+this.counter).height(n)},t.counter=u,t.src=n,'<div class="jslirolaLogin2seeplusImgPlaceholder wlip'+u+++'">'+a.a.translator.trans("jslirola-login2seeplus.forum.image")+"</div>"}))}c&&(s+='<div class="jslirolaLogin2seeplusAlert">'+a.a.translator.trans("jslirola-login2seeplus.forum.post",{login:"<a class='jslirolaLogin2seeplusLogin'>"+a.a.translator.trans("core.forum.header.log_in_link")+"</a>",register:"<a class='jslirolaLogin2seeplusRegister'>"+a.a.translator.trans("core.forum.header.sign_up_link")+"</a>"}).join("")+"</div>"),r[1].children[0]=m.trust(s)}})),Object(r.extend)(l.a.prototype,"config",(function(){"no_replace"!=t&&$(".Post-body a").off("click").on("click",(function(){return a.a.modal.show(new p.a)})),$(".jslirolaLogin2seeplusLogin").off("click").on("click",(function(){return a.a.modal.show(new p.a)})),$(".jslirolaLogin2seeplusRegister").off("click").on("click",(function(){return a.a.modal.show(new d.a)}))}))}))}]);
//# sourceMappingURL=forum.js.map
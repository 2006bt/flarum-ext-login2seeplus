module.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(e,n){e.exports=flarum.core.compat.app},function(e,n){e.exports=flarum.core.compat.extend},,function(e,n){e.exports=flarum.core.compat["components/CommentPost"]},function(e,n){e.exports=flarum.core.compat["components/LogInModal"]},function(e,n){e.exports=flarum.core.compat["components/HeaderPrimary"]},function(e,n){e.exports=flarum.core.compat["components/SignUpModal"]},,,,function(e,n,t){"use strict";t.r(n);var o=t(1),r=t(0),i=t.n(r),a=t(3),l=t.n(a),s=t(5),u=t.n(s),c=t(4),p=t.n(c),f=t(6),d=t.n(f);i.a.initializers.add("jslirola-login2seeplus",(function(){var e,n,t,r,a;function s(e){var n=document.createElement("a");return n.setAttribute("class","l2sp"),n.innerHTML=i.a.translator.trans(e),n.outerHTML}Object(o.extend)(u.a.prototype,"init",(function(){n=parseInt(i.a.forum.attribute("jslirola.login2seeplus.post")||100),isNaN(n)&&(n=-1),t=JSON.parse(i.a.forum.attribute("jslirola.login2seeplus.link")||1),r=JSON.parse(i.a.forum.attribute("jslirola.login2seeplus.image")||0),a=JSON.parse(i.a.forum.attribute("jslirola.login2seeplus.code")||0),e=JSON.parse(i.a.forum.attribute("jslirola.login2seeplus.php")||0)})),Object(o.extend)(l.a.prototype,"content",(function(o){if(!i.a.session.user&&!this.isEditing()&&!e){var l,u,c=o[1].children[0].toString(),p=!1;if(-1!=n&&(l=c,(u=document.createElement("div")).innerHTML=l,(u.textContent||u.innerText||"").length>n)){try{c=function(e,n){var t=document.createElement("div");return t.innerHTML=e,function e(t,o){var r=t.firstChild;t.innerHTML&&n<=0&&(t.innerHTML="");do{3===r.nodeType?o(r):1===r.nodeType&&r.childNodes&&r.childNodes[0]&&e(r,o)}while(r=r.nextSibling)}(t,(function(e){if(n>0){var t=e.data.length;(n-=t)<=0&&e&&e.data&&(e.data=e.substringData(0,e.data.length+n)+"...")}else e&&e.data&&(e.data="")})),t.innerHTML}(c,n)}catch(e){}p=!0}if(1==t&&(c=c.replace(/(<a((?!PostMention).)*?>)[^<]*<\/a>/g,s("jslirola-login2seeplus.forum.link"))),2==t&&(c=c.replace(/<a href=".*?"/g,'<a class="l2sp"')),r){var f=0;c=c.replace(/<img((.(?!class=))*)\/?>/g,(function(e){var n=$(e)[0].src,t=new Image;return t.onload=function(){var e=t.width,n=t.height;e=e>150?e:150,n=n>150?n:150,$(".wlip"+this.counter).width(e),$(".wlip"+this.counter).height(n)},t.counter=f,t.src=n,'<div class="jslirolaLogin2seeplusImgPlaceholder wlip'+f+++'">'+s("jslirola-login2seeplus.forum.image")+"</div>"}))}a&&(c=(c=c.replace(/<pre><code.*?>[^]*<\/pre>/g,s("jslirola-login2seeplus.forum.code"))).replace(/<code.*?>[^>]*<\/code>/g,s("jslirola-login2seeplus.forum.code"))),p&&(c+='<div class="jslirolaLogin2seeplusAlert">'+i.a.translator.trans("jslirola-login2seeplus.forum.post",{login:"<a class='jslirolaLogin2seeplusLogin'>"+i.a.translator.trans("core.forum.header.log_in_link")+"</a>",register:"<a class='jslirolaLogin2seeplusRegister'>"+i.a.translator.trans("core.forum.header.sign_up_link")+"</a>"}).join("")+"</div>"),o[1].children[0]=m.trust(c)}})),Object(o.extend)(l.a.prototype,"config",(function(){$(".Post-body a.l2sp").off("click").on("click",(function(){return i.a.modal.show(new p.a)})),$(".jslirolaLogin2seeplusLogin").off("click").on("click",(function(){return i.a.modal.show(new p.a)})),$(".jslirolaLogin2seeplusRegister").off("click").on("click",(function(){return i.a.modal.show(new d.a)}))}))}))}]);
//# sourceMappingURL=forum.js.map